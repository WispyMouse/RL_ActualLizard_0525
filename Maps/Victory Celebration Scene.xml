<?xml version="1.0" encoding="utf-8"?>
<Level mapname="Victory Celebration Scene" maptype="Single Player" maxplayers="4" battleBG="" musictrack="Dance of the Isles" winAura="0" winMorale="0" lossMorale="0" nextbattle="" defeatScene="" saveable="false" procgen="false" campaign="Actual Lizard Tactics Jam Map for Pride" lastEdited="5/27/2025 7:55:12 PM">

	<Army num="0" AI="false" aiProfile="Custom" name="Player Characters" color="Black" alliedWith="" assignRoster="-1"></Army>
	<Army num="1" AI="true" aiProfile="Custom" name="Audience" color="Green" alliedWith="" assignRoster="-1"></Army>
	<Army num="2" AI="true" aiProfile="Custom" name="Playright" color="Yellow" alliedWith="" assignRoster="-1"></Army>
	<Army num="3" AI="true" aiProfile="Custom" name="Unused" color="White" alliedWith="" assignRoster="-1"></Army>
	<Army num="4" AI="true" aiProfile="Custom" name="Player Puppets" color="Blue" alliedWith="" assignRoster="-1"></Army>
	
	<Condition>Bar Skills,</Condition>
	<Condition>Defeat Army,0,4</Condition>
	<Condition>Exploration Mode,true</Condition>
	
	<Tileset>01,Cave</Tileset>
	<Tileset>02,Wood</Tileset>
	<Tileset>03,CastleSandstone</Tileset>
	<Tileset>04,Castle</Tileset>
	<Tileset>05,Street</Tileset>
	
	<Row>01.01,01.01,02.0P,03.01,03.01,03.01,03.01,04.01,04.01</Row>
	<Row>01.3C,02.01,02.01,02.01,03.01,03.01,03.01,04.01,04.01</Row>
	<Row>02.01,02.01,02.01,03.01,03.01,03.01,03.01,04.01,04.01</Row>
	<Row>02.01,02.01,02.01,03.01,03.01,03.01,04.01,04.01,04.01</Row>
	<Row>02.01,03.01,03.01,03.01,03.01,03.01,03.01,05.01,05.01</Row>
	<Row>03.01,03.01,03.01,03.01,03.01,03.01,03.01,02.01,02.01</Row>
	<Row>02.01,03.01,03.01,03.01,03.01,03.01,03.01,02.01,02.01</Row>
	
	<Light type="Point Light" size="2" intensity="1.5" y="1" x="3" A="1" R="1" G="1" B="1" animType="Static" direction="Up"></Light>
	
	<RowElev>0,0,0,0,1,1,1,5,5</RowElev>
	<RowElev>2,3,3,3,1,1,1,5,5</RowElev>
	<RowElev>3,3,3,3,1,1,1,5,5</RowElev>
	<RowElev>3,3,3,3,1,1,3,3,5</RowElev>
	<RowElev>1,3,3,3,1,1,1,4,4</RowElev>
	<RowElev>1,1,1,1,1,1,1,3,3</RowElev>
	<RowElev>1,1,1,1,1,1,1,3,3</RowElev>
	
	<Unit>0,99,StairsCave_S,0,0,None,None</Unit>
	<Unit>0,99,StairsCave_S,0,1,None,None</Unit>
	<Unit>0,99,StairsCave_S,0,2,None,None</Unit>
	<Unit>0,99,StairsWood_S,0,3,None,None</Unit>
	<Unit tag="Add,TreatAsArmy,3/Add,TargetValue,.8">0,99,Barrel,0,5,None,None</Unit>
	<Unit>0,99,Chair,0,7,None,None</Unit>
	<Unit>0,99,CandelabraLit,0,8,None,None</Unit>
	<Unit>0,99,Rug9TL,1,0,None,None</Unit>
	<Unit>0,99,Rug9T,1,1,None,None</Unit>
	<Unit>0,99,Rug9T,1,2,None,None</Unit>
	<Unit>0,99,Rug9TR,1,3,None,None</Unit>
	<Unit>0,99,RugTurq,1,7,None,None</Unit>
	<Unit>0,99,Rug9L,2,0,None,None</Unit>
	<Unit>0,99,Rug9C,2,1,None,None</Unit>
	<Unit>0,99,Rug9C,2,2,None,None</Unit>
	<Unit>0,99,Rug9R,2,3,None,None</Unit>
	<Unit>0,99,StairsWood_S,2,6,None,None</Unit>
	<Unit>0,99,TableFood,2,7,None,None</Unit>
	<Unit>0,99,Rug9L,3,0,None,None</Unit>
	<Unit>0,99,Rug9C,3,1,None,None</Unit>
	<Unit>0,99,Rug9C,3,2,None,None</Unit>
	<Unit>0,99,Rug9R,3,3,None,None</Unit>
	<Unit tag="Add,TreatAsArmy,3/Add,TargetValue,.8">0,99,Chair,3,5,None,None</Unit>
	<Unit>0,99,StairsWood_E,3,7,None,None</Unit>
	<Unit>0,99,StairsWood_N,4,0,None,None</Unit>
	<Unit>0,99,Rug9B,4,1,None,None</Unit>
	<Unit>0,99,Rug9B,4,2,None,None</Unit>
	<Unit>0,99,Rug9BR,4,3,None,None</Unit>
	<Unit tag="Add,TreatAsArmy,3/Add,TargetValue,1">0,99,TableFood,4,5,None,None</Unit>
	<Unit tag="Add,TreatAsArmy,3/Add,TargetValue,.8">0,99,Chair,4,6,None,None</Unit>
	<Unit>0,99,HouseWallNW,4,7,None,None</Unit>
	<Unit>0,99,HouseWallHorizontal,4,8,None,None</Unit>
	<Unit>0,99,StairsWood_E,5,6,None,None</Unit>
	<Unit>0,99,RugTurq9T,5,7,None,None</Unit>
	<Unit>0,99,RugTurq9T,5,8,None,None</Unit>
	<Unit>0,99,HouseWallNE,6,0,None,None</Unit>
	<Unit>0,99,Chair,6,2,None,None</Unit>
	<Unit>0,99,TableBeerAlt,6,3,None,None</Unit>
	<Unit>0,99,StairsWood_E,6,6,None,None</Unit>
	<Unit>0,99,RugTurq9B,6,7,None,None</Unit>
	<Unit>0,99,RugTurq9B,6,8,None,None</Unit>
	<Unit>0,0,Rubble Rouser Golem/,5,8,Left,None</Unit>
	<Unit>0,1,Loud Theater Enjoyer/,1,7,Left,None</Unit>
	<Unit>0,2,Rubble Rouser Golem/,1,6,Left,None</Unit>
	<Unit>0,2,Rubble Rouser Golem/,3,6,Up,None</Unit>
	<Unit>0,2,Rubble Rouser Golem/,5,4,Up,None</Unit>
	<Unit>0,2,Rubble Rouser Golem/,6,2,Up,None</Unit>
	<Unit>0,2,Rubble Rouser Golem/,6,7,Up,None</Unit>
	<Unit>0,4,Asandr/Winterbloom,1,2,Right,None</Unit>
	<Unit>0,4,Drasan/Winterbloom,1,2,Right,None</Unit>
	<Unit>0,4,Andras/Winterbloom,1,2,Right,None</Unit>
	<Unit>0,4,Sandra/Winterbloom,1,2,Right,None</Unit>
	<Unit>0,4,Mary O Nette/,2,0,Right,None</Unit>
	<Unit>0,4,Arora/Masculine,2,2,Right,None</Unit>
	<Unit>0,4,Nobeta/Lifts,3,0,Right,None</Unit>
	<Unit>0,4,Clark Lutrinae/Happy,3,2,Right,None</Unit>
	<Unit>0,4,Harrien/Lifts,4,2,Right,None</Unit>

	<Script>Randomize Villagers
		<Action>SetList/Villager Spritesets,Villager_Boy|Villager_Girl|Villager_Male|Villager_Female|Villager_FemaleOld|Villager_MaleOld|Villager_BoyAlt|Villager_GirlAlt|VillagerDese_Male|VillagerDese_Female|VillagerDese_Boy|VillagerDese_Girl</Action>
		<Action>SetVal/NamedVillagers,=:-1</Action>
		<Action>Run/Give Villagers Unique Names,Replace Me Name,Rubble Rouser Golem</Action>
		<Action>Run/Give Villagers Unique Sprites</Action>
	</Script>

	<Script>Give Villagers Unique Names
		<Action>Log/All "-STR:Replace Me Name-"s on the map will have their name set to a unique value, by incrementing an index. This way they can be targeted by SetStat better.</Action>
		<Action>SetVal/NamedVillagers,+:1</Action>
		<Action>IfPresentRun/-STR:Replace Me Name-,_SetStatString,Character Name,-STR:Replace Me Name-,Stat Name,Name,Value,Villager-VAL:NamedVillagers-,</Action>
		<Action>Log/Recursively run this again if there are still -STR:Replace Me Name-</Action>
		<Action>IfPresentRun/-STR:Replace Me Name-,Give Villagers Unique Names</Action>
	</Script>

	<Script>Give Villagers Unique Sprites
		<Action>Log/After Give Villagers Unique Names, there should be villagers named Villager0-&gt;X. Iterate over each name and set a random sprite.</Action>
		<Action>ForLoop/-ii-,0--VAL:NamedVillagers-,1,Run,Give Villager Random Sprite,Villager Index,-ii-</Action>
	</Script>

	<Script>Give Villager Random Sprite
		<Action>SetVal/Random Index,r:LASTINLIST[Villager Spritesets]</Action>
		<Action>SetStat/Villager-VAL:Villager Index-,Sprite Set,LIST{Villager Spritesets,-VAL:Random Index-}</Action>
	</Script>

	<Script>Set Alive Unit
		<Action>IfValRun/-STR:Character Name- Alive,=,0,_RemoveUnit,Character Name,-STR:Character Name-</Action>
	</Script>

	<Script>_RemoveUnit
		<Action>RemoveUnit/-STR:Character Name-,false</Action>
	</Script>

	<Dialogue trigger="OnTurn/0" convID="Ending Celebration Dispatch" r="true">
		<Branch num="0" name="">/
			<Action>HideDialogueBox/</Action>
			<Action>ZoomCam/8</Action>
			<Action>Run/Randomize Villagers</Action>
			<Action>MoveCam/5,5,,1</Action>
			<Action>Run/Set Alive Unit,Character Name,Harrien Lifts</Action>
			<Action>Run/Set Alive Unit,Character Name,Nobeta Lifts</Action>
			<Action>Run/Set Alive Unit,Character Name,Arora</Action>
			<Action>Run/Set Alive Unit,Character Name,Mary O Nette</Action>
			<Action>Run/Set Alive Unit,Character Name,Clark Lutrinae</Action>
			<Action>Run/Set Alive Unit,Character Name,Drasan Winterbloom</Action>
			<Action>Run/Set Alive Unit,Character Name,Andras Winterbloom</Action>
			<Action>Run/Set Alive Unit,Character Name,Sandra Winterbloom</Action>
			<Action>Run/Set Alive Unit,Character Name,Asandr Winterbloom</Action>
			<Action>Run/Set Alive Unit,Character Name,Loud Theater Enjoyer</Action>
			<Action>Run/Set Alive Unit,Character Name,Emma Strider Promotional Cutout</Action>
			<Action>GoToNextBranch/</Action>
			<Reply>/None</Reply>
		</Branch>
		<Branch num="7" name="">/[And thus, the theater was not [i]entirely[/i] broken apart. "Bolt-Action Love" would show as planned, undeterred by neither ruffians nor confused critics.]
			<Action>ShowDialogueBox/</Action>
			<Reply>Continue./NextBranch</Reply>
		</Branch>
		<Branch num="8" name="Harrien and Clark Lutrinae">/[Clark Lutrinae is more than happy to distance himself from the Rubble Rousers. Harrien takes Clark Lutrinae under his wing, and massive arms.]
			<Action>Log/-VAL:Harrien Lifts Alive- and -VAL:Clark Lutrinae Alive-</Action>
			<Action>ClearPortraits/</Action>
			<Action>IfValGoTo/Harrien Lifts Alive,=,0,BRANCH[Nobeta and Mary]</Action>
			<Action>IfValGoTo/Clark Lutrinae Alive,=,0,BRANCH[Nobeta and Mary]</Action>
			<Action>AddPortrait/Harrien Lifts,Harrien Lifts,left,,Excited</Action>
			<Action>AddPortrait/Clark Lutrinae,Clark Lutrinae,right,,Kind</Action>
			<Action>MoveCam/Harrien Lifts</Action>
			<Reply>Continue./NextBranch</Reply>
		</Branch>
		<Branch num="9" name="Nobeta and Mary">/[Nobeta and Mary have a pleasant date scheduled. They plan on bonding over a mutual appreciation for Nobeta's muscles.]
			<Action>ClearPortraits/</Action>
			<Action>IfValGoTo/Nobeta Lifts Alive,=,0,BRANCH[Sandra Winterbloom]</Action>
			<Action>IfValGoTo/Mary O Nette Alive,=,0,5,BRANCH[Sandra Winterbloom]</Action>
			<Action>IfValGoTo/Lesbian Discussions Count,l,3,BRANCH[Sandra Winterbloom]</Action>
			<Action>AddPortrait/Nobeta Lifts,Nobeta Lifts,left,,Excited,10,0</Action>
			<Action>AddPortrait/Mary O Nette,Mary O Nette,right,,Kind,5,0</Action>
			<Action>MoveCam/Nobeta Lifts</Action>
			<Reply>Continue./NextBranch</Reply>
		</Branch>
		<Branch num="12" name="Sandra Winterbloom">/[Sandra got a lot [b]lot[/b] out of this experience, apparently! She's excited to learn what it all means.]
			<Action>ClearPortraits/</Action>
			<Action>IfValGoTo/Sandra Winterbloom Alive,=,0,BRANCH[Asandr Winterbloom]</Action>
			<Action>AddPortrait/Sandra Winterbloom,Sandra/Winterbloom,left,,Winking</Action>
			<Action>MoveCam/,,Sandra Winterbloom</Action>
			<Action>/</Action>
			<Action>/</Action>
			<Action>/</Action>
			<Reply>Continue./NextBranch</Reply>
		</Branch>
		<Branch num="11" name="Asandr Winterbloom">/[Asandr got a lot [b]lot[/b] out of this experience, apparently! Recent developments push her enough to audition for the role of Lakshmi. Good luck!]
			<Action>ClearPortraits/</Action>
			<Action>IfValGoTo/Asandr Winterbloom Alive,=,0,BRANCH[Arora]</Action>
			<Action>AddPortrait/Asandr Winterbloom,Asandr/Winterbloom,left,,Winking</Action>
			<Action>MoveCam/,,Asandr Winterbloom</Action>
			<Action>/</Action>
			<Action>/</Action>
			<Action>/</Action>
			<Reply>Continue./NextBranch</Reply>
		</Branch>
		<Branch num="10" name="Arora">/[Arora had a good time with the experience, and continues vibing. It's hard to get a good bigender lizard down.]
			<Action>ClearPortraits/</Action>
			<Action>IfValGoTo/Arora Alive,=,0,BRANCH[Loud Theater Enjoyer]</Action>
			<Action>AddPortrait/Arora,Arora,left,,Winking</Action>
			<Action>MoveCam/,,Arora</Action>
			<Action>/</Action>
			<Action>/</Action>
			<Action>/</Action>
			<Reply>Continue./NextBranch</Reply>
		</Branch>
		<Branch num="13" name="Loud Theater Enjoyer">/[[i]Some[/i] have learned nothing at all from the experience.]
			<Action>ClearPortraits/</Action>
			<Action>IfValGoTo/Loud Theater Enjoyer Alive,=,0,BRANCH[End Slate]</Action>
			<Action>AddPortrait/Loud Theater Enjoyer,Loud Theater Enjoyer,left,,Winking</Action>
			<Action>MoveCam/,,Loud Theater Enjoyer</Action>
			<Action>/</Action>
			<Action>/</Action>
			<Action>/</Action>
			<Reply>Continue./NextBranch</Reply>
		</Branch>
		<Branch num="1" name="End Slate">/[This is the end slate! Now, for the actors of this part of the play to...]
			<Action>ClearPortraits/</Action>
			<Action>ShowDialogueBox/</Action>
			<Reply>Conintue./NextBranch</Reply>
		</Branch>
		<Branch num="2" name="">/
			<Action>HideDialogueBox/</Action>
			<Action>MoveUnitBy/Harrien Lifts,0,1,</Action>
			<Action>MoveUnitBy/Nobeta Lifts,0,1</Action>
			<Action>MoveUnitBy/Mary O Nette,0,1</Action>
			<Action>MoveUnitBy/Arora,0,1</Action>
			<Action>MoveUnitBy/Asandr Winterbloom,0,1,</Action>
			<Action>MoveUnitBy/Clark Lutrinae,0,1,</Action>
			<Action>MoveUnitBy/Andras Winterbloom,0,1,</Action>
			<Action>MoveUnitBy/Drasan Winterbloom,0,1,</Action>
			<Action>MoveUnitBy/Sandra Winterbloom,0,1</Action>
			<Action>GoToNextBranch/</Action>
			<Action>/</Action>
			<Action>/</Action>
			<Action>/</Action>
			<Reply>/None</Reply>
		</Branch>
		<Branch num="5" name="">/
			<Action>HideDialogueBox/</Action>
			<Action>WaitForDialogue/</Action>
			<Action>GoToNextBranch/</Action>
			<Action>/</Action>
			<Action>/</Action>
			<Action>/</Action>
			<Action>/</Action>
			<Reply>/None</Reply>
		</Branch>
		<Branch num="3" name="">/
			<Action>HideDialogueBox/</Action>
			<Action>PlayAnim/Harrien Lifts,Cast</Action>
			<Action>PlayAnim/Nobeta Lifts,Cast</Action>
			<Action>PlayAnim/Clark Lutrinae,Ability</Action>
			<Action>PlayAnim/Mary O Nette,Cast</Action>
			<Action>PlayAnim/Arora,Cast</Action>
			<Action>PlayAnim/Asandr Winterbloom,Cast</Action>
			<Action>PlayAnim/Sandra Winterbloom,Cast</Action>
			<Action>PlayAnim/Andras Winterbloom,Cast</Action>
			<Action>PlayAnim/Drasan Winterbloom,Cast</Action>
			<Action>GoToNextBranch/</Action>
			<Reply>/None</Reply>
		</Branch>
		<Branch num="7" name="">/
			<Action>HideDialogueBox/</Action>
			<Action>Wait/2</Action>
			<Action>GoToNextBranch/</Action>
			<Action>/</Action>
			<Action>/</Action>
			<Action>/</Action>
			<Reply>/None</Reply>
		</Branch>
		<Branch num="7" name="">/[...take a bow.]
			<Action>ShowDialogueBox/</Action>
			<Action>/</Action>
			<Reply>You Win!/NextScene</Reply>
		</Branch>
	</Dialogue>

	<Dialogue trigger="BeforeTurn/0" convID="Pre-Turn Dispatch" r="true">
		<Branch num="0" name="">/It appears as though we need an BeforeTurn/0 for OnTurn/0 to work in exploration mode. If this dialogue is showing, something about scripting is broken, and the player will probably be stuck here.
			<Action>EndConvImmediately/</Action>
		</Branch>
	</Dialogue>

</Level>